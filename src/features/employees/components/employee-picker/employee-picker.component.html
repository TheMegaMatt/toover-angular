<div class="flex gap-4">
    <div class="flex flex-grow rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-cyan-600">
        <span class="block flex-1 border-0 bg-transparent py-1.5 pl-4 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6">{{display()! | translate}}</span>
    </div>
    <button (click)="onPick()" class="rounded-md bg-cyan-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-cyan-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-cyan-600 disabled:bg-cyan-200">
        {{ 'places.form.name.pick' | translate}}
    </button>
    <div @opacity *ngIf="dialogOpen()" class="relative z-10" aria-labelledby="modal-title" role="dialog" aria-modal="true">
        <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div>
        <div class="fixed inset-0 z-10 overflow-y-auto">
            <div class="flex min-h-full justify-center p-4 text-center items-center sm:p-0">
                <div @opacityTranslateY *ngIf='dialogOpen()'
                     [style.width.%]="70"
                     class="relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg">
                    <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4 w-full">
                        <div class="sm:flex sm:items-stretch w-full">
                            <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full">
                                <h3 class="text-base font-semibold leading-6 text-gray-900"
                                    id="modal-title">{{ 'places.form.name.title' | translate }}</h3>
                                <div class="mt-2 max-h-[50vh] w-full overflow-auto">
                                    <ul role="list" class="divide-y divide-gray-100 w-full">
                                        @for (item of employees(); track $index) {
                                            <li (click)="selected.set(item)"
                                                class="group flex justify-between gap-x-6 w-full hover:bg-cyan-600 group-hover:text-white rounded p-2"
                                                [ngClass]="{
                                            'bg-cyan-600':  item === selected()
                                            }">
                                                <div class="flex min-w-0 gap-x-4">
                                                    <div class="min-w-0 flex-auto">
                                                        <p [ngClass]="{'text-white':  item === selected()}"
                                                           class=" group-hover:text-white text-sm font-semibold text-gray-900">{{ item.firstName }} {{ item.lastName}}</p>
                                                        <p [ngClass]="{'text-white':  item === selected()}"
                                                           class=" group-hover:text-white text-xs font-semibold text-gray-700">{{ item.role }}</p>
                                                    </div>
                                                </div>
                                            </li>
                                        }
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6">
                        <button type="button" (click)="onChange(selected()?.id!); this.value.set(selected()?.id!); dialogOpen.set(false);" [disabled]="!selected()"
                                class="inline-flex w-full justify-center rounded-md bg-cyan-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-cyan-500 sm:ml-3 sm:w-auto">
                            {{ 'places.form.name.confirm' | translate }}
                        </button>
                        <button type="button" (click)="dialogOpen.set(false)"
                                class="mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto">
                            {{ 'places.form.name.cancel' | translate }}
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>

