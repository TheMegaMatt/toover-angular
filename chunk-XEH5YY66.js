import{a as O}from"./chunk-NLU6ZOI6.js";import"./chunk-I76RPWRP.js";import{a as R}from"./chunk-G24275RT.js";import{l as U,m as z}from"./chunk-O52S3HSK.js";import{c as j,f as H,j as w,k as T}from"./chunk-OZWXVJEV.js";import{Bb as q,Cb as l,Db as g,Eb as f,Fa as M,Ia as n,O as k,Oa as D,Pa as I,Q as C,T as h,W as y,X as v,Zb as A,_a as b,ab as s,db as E,eb as N,fb as P,gb as $,hb as o,ib as a,jb as u,mb as d,qa as L,sb as m,t as B,tb as x,ub as F,xb as S,zb as _}from"./chunk-3BEEKYPC.js";var Q=(t,e,i)=>({place:t,firstName:e,lastName:i});function V(t,e){if(t&1&&(o(0,"p",8),m(1),l(2,"translate"),a()),t&2){let i=d().$implicit;n(),x(f(2,1,"items.list.item.owner",q(4,Q,i.place.name,i.owner.firstName,i.owner.lastName)))}}var W=t=>({place:t});function X(t,e){if(t&1&&(o(0,"p",8),m(1),l(2,"translate"),a()),t&2){let i=d().$implicit;n(),x(f(2,1,"items.list.item.available",_(4,W,i.place.name)))}}var Y=t=>({count:t});function Z(t,e){if(t&1&&(o(0,"p",9),m(1),l(2,"translate"),a()),t&2){let i=d().$implicit;n(),x(f(2,1,"items.list.item.no-label",_(4,Y,i)))}}function tt(t,e){if(t&1&&(o(0,"p",9),m(1),a()),t&2){let i=d().$implicit;n(),x(i.label)}}function et(t,e){if(t&1&&(o(0,"li",1)(1,"div",2),u(2,"img",3),o(3,"div",4)(4,"p",5),m(5),a(),b(6,V,3,8,"p",6)(7,X,3,6,"p",6)(8,Z,3,6,"p",7)(9,tt,2,1,"p",7),a()()()),t&2){let i=e.$implicit;s("routerLink",i.id.toString()),n(2),s("src",i.type.iconUrl,M),n(3),x(i.name),n(),s("ngIf",i.owner),n(),s("ngIf",!i.owner),n(),s("ngIf",!i.label),n(),s("ngIf",i.label)}}var it=t=>({search:t});function nt(t,e){if(t&1&&(m(0),l(1,"translate")),t&2){let i=d(3);F(" ",f(1,1,"items.list.empty.filtered",_(4,it,i.filter()))," ")}}function ot(t,e){t&1&&(m(0),l(1,"translate")),t&2&&F(" ",g(1,1,"items.list.empty.no-filter")," ")}function at(t,e){if(t&1&&(o(0,"h2",10),b(1,nt,2,6)(2,ot,2,3),a()),t&2){let i=d(2);n(),E(1,i.filter()?1:2)}}function rt(t,e){if(t&1&&P(0,et,10,7,"li",11,N,!1,at,3,1,"h2",12),t&2){let i=d();$(i.items())}}function st(t,e){t&1&&(o(0,"h2",10),m(1),l(2,"translate"),a()),t&2&&(n(),F(" ",g(2,1,"items.list.loading")," "))}var G=(()=>{let e=class e{constructor(){this.items=h.required(),this.loading=h.required(),this.filter=h.required()}};e.\u0275fac=function(p){return new(p||e)},e.\u0275cmp=v({type:e,selectors:[["oa-items-card-list"]],inputs:{items:[y.SignalBased,"items"],loading:[y.SignalBased,"loading"],filter:[y.SignalBased,"filter"]},standalone:!0,features:[S],decls:3,vars:1,consts:[["role","list",1,"mt-3","grid","grid-cols-1","gap-3","sm:gap-4","sm:grid-cols-2","lg:grid-cols-3"],[1,"flex","shadow-sm","rounded-md","border","border-gray-200","bg-white","hover:bg-cyan-600","hover:bg-opacity-15",3,"routerLink"],[1,"flex-1","flex","flex-grow","items-center","justify-between","rounded-md","truncate","gap-0.5"],["alt","",1,"h-7","w-7","ml-1.5","self-center",3,"src"],[1,"flex-1","px-4","py-2","text-sm","truncate"],[1,"text-cyan-900","font-medium","hover:text-cyan-700"],["class","text-gray-500 text-xs",4,"ngIf"],["class","text-gray-300 text-xs font-mono uppercase",4,"ngIf"],[1,"text-gray-500","text-xs"],[1,"text-gray-300","text-xs","font-mono","uppercase"],[1,"text-gray-500","text-xs","font-medium","uppercase","tracking-wide"],["class","flex shadow-sm rounded-md border border-gray-200 bg-white hover:bg-cyan-600 hover:bg-opacity-15",3,"routerLink"],["class","text-gray-500 text-xs font-medium uppercase tracking-wide"]],template:function(p,c){p&1&&(o(0,"ul",0),b(1,rt,3,1)(2,st,3,3),a()),p&2&&(n(),E(1,c.loading()?2:1))},dependencies:[T,w,H,A]});let t=e;return t})();var lt=t=>({search:t}),wt=(()=>{let e=class e{constructor(){this.route=L(j),this.itemsApi=L(O),this.filter=I(""),this.subtitle=D(()=>this.filter()?"items.list.subtitle.filtered":"items.list.subtitle.not-filtered"),this.items=I([]),this.loading=I(!1),this.actions=[{type:"link",label:"items.list.actions.create.label",route:["create"]}]}ngOnInit(){this.route.queryParamMap.pipe(C(r=>this.loading.set(!0)),B(r=>r.get("search")||""),C(this.filter.set),k(r=>this.itemsApi.search({name:r})),C(r=>this.loading.set(!1))).subscribe({next:r=>{this.items.set(r.items)}})}};e.\u0275fac=function(p){return new(p||e)},e.\u0275cmp=v({type:e,selectors:[["ng-component"]],standalone:!0,features:[S],decls:6,vars:13,consts:[[3,"title"],[3,"title","actions"],[3,"items","filter","loading"]],template:function(p,c){p&1&&(u(0,"oa-page-header",0),l(1,"translate"),o(2,"oa-page-content"),u(3,"oa-section-header",1),l(4,"translate"),u(5,"oa-items-card-list",2),a()),p&2&&(s("title",g(1,6,"items.list.title")),n(3),s("title",f(4,8,c.subtitle(),_(11,lt,c.filter())))("actions",c.actions),n(2),s("items",c.items())("filter",c.filter())("loading",c.loading()))},dependencies:[z,U,R,T,w,G],encapsulation:2,changeDetection:0});let t=e;return t})();export{wt as ItemListPage};
