import{a as U}from"./chunk-C2GLONQU.js";import"./chunk-5YZZX5DM.js";import"./chunk-JEV6CQYR.js";import{a as H}from"./chunk-C2XUBSDY.js";import{l as R,m as O}from"./chunk-YLWAUSJG.js";import{c as j,f as A,j as F,k as I,l as $}from"./chunk-DGVE3CBX.js";import{Cb as l,Db as c,Eb as y,Ia as n,O as w,Oa as k,Pa as C,Q as B,T as g,W as x,X as _,Zb as N,_a as h,ab as m,db as L,eb as M,fb as D,gb as P,hb as r,ib as a,jb as v,mb as f,qa as T,sb as d,tb as E,ub as b,vb as q,xb as S,zb as u}from"./chunk-3BEEKYPC.js";var K=e=>({count:e});function Q(e,t){if(e&1&&(r(0,"p",7),d(1),l(2,"translate"),a()),e&2){let i=f().$implicit;n(),E(y(2,1,"employees.list.item.count",u(4,K,i.itemsCount)))}}function V(e,t){e&1&&(r(0,"p",7),d(1),l(2,"translate"),a()),e&2&&(n(),E(c(2,1,"employees.list.item.no-count")))}function W(e,t){if(e&1&&(r(0,"li",1)(1,"div",2)(2,"div",3)(3,"p",4),d(4),a(),r(5,"p",5),d(6),a(),h(7,Q,3,6,"p",6)(8,V,3,3,"p",6),a()()()),e&2){let i=t.$implicit;m("routerLink",i.id.toString()),n(4),q("",i.firstName," ",i.lastName,""),n(2),E(i.role),n(),m("ngIf",i.itemsCount>0),n(),m("ngIf",i.itemsCount==0)}}var X=e=>({filter:e});function Y(e,t){if(e&1&&(d(0),l(1,"translate")),e&2){let i=f(3);b(" ",y(1,1,"employees.list.empty-filtered",u(4,X,i.filter()))," ")}}function Z(e,t){e&1&&(d(0),l(1,"translate")),e&2&&b(" ",c(1,1,"employees.list.empty")," ")}function ee(e,t){if(e&1&&(r(0,"h2",8),h(1,Y,2,6)(2,Z,2,3),a()),e&2){let i=f(2);n(),L(1,i.filter()?1:2)}}function te(e,t){if(e&1&&D(0,W,9,6,"li",9,M,!1,ee,3,1,"h2",10),e&2){let i=f();P(i.employees())}}function ie(e,t){e&1&&(r(0,"h2",8),d(1),l(2,"translate"),a()),e&2&&(n(),b(" ",c(2,1,"employees.list.loading")," "))}var z=(()=>{let t=class t{constructor(){this.employees=g.required(),this.loading=g.required(),this.filter=g.required()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=_({type:t,selectors:[["oa-employees-card-list"]],inputs:{employees:[x.SignalBased,"employees"],loading:[x.SignalBased,"loading"],filter:[x.SignalBased,"filter"]},standalone:!0,features:[S],decls:3,vars:1,consts:[["role","list",1,"mt-3","grid","grid-cols-1","gap-3","sm:gap-4","sm:grid-cols-2","lg:grid-cols-4"],[1,"flex","shadow-sm","rounded-md","border","border-gray-200","bg-white","hover:bg-cyan-600","hover:bg-opacity-15",3,"routerLink"],[1,"flex-1","flex","flex-grow","items-center","justify-between","rounded-md","truncate"],[1,"flex-1","px-4","py-2","text-sm","truncate"],[1,"text-cyan-900","font-medium","hover:text-gray-600"],[1,"text-gray-400","text-sm"],["class","text-gray-500 text-xs",4,"ngIf"],[1,"text-gray-500","text-xs"],[1,"text-gray-500","text-xs","font-medium","uppercase","tracking-wide"],["class","flex shadow-sm rounded-md border border-gray-200 bg-white hover:bg-cyan-600 hover:bg-opacity-15",3,"routerLink"],["class","text-gray-500 text-xs font-medium uppercase tracking-wide"]],template:function(o,p){o&1&&(r(0,"ul",0),h(1,te,3,1)(2,ie,3,3),a()),o&2&&(n(),L(1,p.loading()?2:1))},dependencies:[I,F,A,N]});let e=t;return e})();var ne=e=>({search:e}),ve=(()=>{let t=class t{constructor(){this.api=T(U),this.route=T(j),this.employees=C([]),this.loading=C(!1),this.filter=C(""),this.subtitle=k(()=>this.filter()?.length>0?"employees.list.subtitle.filtered":"employees.list.subtitle.not-filtered"),this.actions=[{type:"link",label:"employees.list.actions.create.label",route:["create"]}],this.route.queryParamMap.pipe($(),B(()=>this.loading.set(!0)),w(s=>{let o=s.get("search")||"";return this.filter.set(o),this.api.search({name:o})})).subscribe({next:s=>{this.employees.set(s.items),this.loading.set(!1)},error:s=>{this.loading.set(!1)}})}ngOnInit(){}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=_({type:t,selectors:[["ng-component"]],standalone:!0,features:[S],decls:6,vars:13,consts:[[3,"title"],[3,"title","actions"],[3,"employees","loading","filter"]],template:function(o,p){o&1&&(v(0,"oa-page-header",0),l(1,"translate"),r(2,"oa-page-content"),v(3,"oa-section-header",1),l(4,"translate"),v(5,"oa-employees-card-list",2),a()),o&2&&(m("title",c(1,6,"employees.list.title")),n(3),m("title",y(4,8,p.subtitle(),u(11,ne,p.filter())))("actions",p.actions),n(2),m("employees",p.employees())("loading",p.loading())("filter",p.filter()))},dependencies:[H,R,O,I,F,z],encapsulation:2,changeDetection:0});let e=t;return e})();export{ve as EmployeeListPage};
