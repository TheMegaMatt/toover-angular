import{a as w}from"./chunk-33AZPHJM.js";import{a as x}from"./chunk-6BT6C4Y3.js";import{a as k}from"./chunk-X2NPSUCL.js";import"./chunk-JEV6CQYR.js";import{a as B}from"./chunk-C2XUBSDY.js";import{c as a,i as N,l as I,m as L}from"./chunk-YLWAUSJG.js";import{c as D,j as F,k as M}from"./chunk-DGVE3CBX.js";import{Cb as f,Db as P,Eb as S,Ia as p,O as u,Pa as s,Wb as E,X as h,Zb as T,_a as b,ab as o,hb as c,ib as g,jb as l,lb as _,mb as y,qa as n,t as d,xb as C,zb as v}from"./chunk-3BEEKYPC.js";function V(t,i){if(t&1&&l(0,"oa-error-display",3),t&2){let A=y();o("error",A.error())}}var j=t=>({name:t}),ie=(()=>{let i=class i{constructor(){this.location=n(E),this.fb=n(N),this.api=n(k),this.route=n(D),this.error=s(null),this.name=s(""),this.form=this.fb.nonNullable.group({name:this.fb.nonNullable.control("",[a.required,a.minLength(3),a.maxLength(15)]),id:this.fb.nonNullable.control(-1,[a.min(1)])}),this.route.paramMap.pipe(d(e=>Number(e.get("id"))),u(e=>this.api.get(e))).subscribe({next:({data:e})=>{this.form.patchValue(e),this.name.set(e.name)}})}onSubmit(){this.form.disable({emitEvent:!1}),this.api.update(this.form.value).subscribe({next:()=>this.location.back(),error:e=>{this.error.set(e),this.form.enable()}})}onCancel(){this.location.back()}};i.\u0275fac=function(m){return new(m||i)},i.\u0275cmp=h({type:i,selectors:[["ng-component"]],standalone:!0,features:[C],decls:7,vars:11,consts:[[3,"title"],[3,"error",4,"ngIf"],[3,"form","submitted","cancel"],[3,"error"]],template:function(m,r){m&1&&(l(0,"oa-page-header",0),f(1,"translate"),c(2,"oa-page-content"),l(3,"oa-section-header",0),f(4,"translate"),b(5,V,1,1,"oa-error-display",1),c(6,"oa-place-form",2),_("submitted",function(){return r.onSubmit()})("cancel",function(){return r.onCancel()}),g()()),m&2&&(o("title",P(1,4,"places.edit.title")),p(3),o("title",S(4,6,"places.edit.subtitle",v(9,j,r.name()))),p(2),o("ngIf",r.error()),p(),o("form",r.form))},dependencies:[x,T,I,L,w,B,M,F],encapsulation:2,changeDetection:0});let t=i;return t})();export{ie as PlaceEditPage};
