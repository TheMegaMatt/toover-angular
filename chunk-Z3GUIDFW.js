import{a as L,b as q}from"./chunk-6OSBHDPR.js";import"./chunk-EZXJIDAN.js";import"./chunk-KEK2YZSZ.js";import{a as F}from"./chunk-NLU6ZOI6.js";import"./chunk-IUPR5F2T.js";import{a as S}from"./chunk-ZP4QN3YB.js";import"./chunk-W55OIH55.js";import"./chunk-MVWNHWJZ.js";import"./chunk-I76RPWRP.js";import{a as P}from"./chunk-G24275RT.js";import{c as e,i as D,l as T,m as x}from"./chunk-O52S3HSK.js";import{j as v,k as N}from"./chunk-OZWXVJEV.js";import{Cb as c,Db as f,Ia as l,Pa as d,Wb as y,X as u,Zb as I,_a as h,ab as r,hb as p,ib as b,jb as m,lb as g,mb as _,qa as a,xb as C}from"./chunk-3BEEKYPC.js";function M(o,t){if(o&1&&m(0,"oa-error-display",3),o&2){let B=_();r("error",B.error())}}var Z=(()=>{let t=class t{constructor(){this.location=a(y),this.fb=a(D),this.api=a(F),this.error=d(null),this.form=this.fb.nonNullable.group({name:this.fb.nonNullable.control("",[e.required,e.minLength(4),e.maxLength(25)]),label:this.fb.nonNullable.control("",[e.required,e.minLength(4),e.maxLength(25)]),placeId:this.fb.nonNullable.control(-1,[e.required]),typeId:this.fb.nonNullable.control(-1,[e.required]),ownerId:this.fb.nonNullable.control(null),note:this.fb.nonNullable.control("",[]),purchaseDate:this.fb.nonNullable.control("",[L.pastDate])})}ngOnInit(){}onSubmit(){this.form.disable({emitEvent:!1}),this.api.create(this.form.value).subscribe({next:()=>this.location.back(),error:s=>{this.error.set(s),this.form.enable()}})}onCancel(){this.location.back()}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=u({type:t,selectors:[["ng-component"]],standalone:!0,features:[C],decls:7,vars:8,consts:[[3,"title"],[3,"error",4,"ngIf"],[3,"form","submitted","cancel"],[3,"error"]],template:function(n,i){n&1&&(m(0,"oa-page-header",0),c(1,"translate"),p(2,"oa-page-content"),m(3,"oa-section-header",0),c(4,"translate"),h(5,M,1,1,"oa-error-display",1),p(6,"oa-item-form",2),g("submitted",function(){return i.onSubmit()})("cancel",function(){return i.onCancel()}),b()()),n&2&&(r("title",f(1,4,"items.create.title")),l(3),r("title",f(4,6,"items.create.subtitle")),l(2),r("ngIf",i.error()),l(),r("form",i.form))},dependencies:[T,x,P,N,v,q,S,I],encapsulation:2,changeDetection:0});let o=t;return o})();export{Z as ItemCreatePage};
