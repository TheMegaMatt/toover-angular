import{a as B}from"./chunk-IEVE3UDO.js";import{a as A}from"./chunk-W55OIH55.js";import"./chunk-I76RPWRP.js";import{a as T}from"./chunk-G24275RT.js";import{l as k,m as w}from"./chunk-O52S3HSK.js";import{c as D,j as M,k as S,l as F}from"./chunk-OZWXVJEV.js";import{Cb as c,D as m,Db as v,Eb as P,Ia as p,O as d,Oa as h,Pa as n,Q as f,X as u,ab as r,hb as g,ib as y,jb as s,qa as l,xb as b,zb as C}from"./chunk-3BEEKYPC.js";var H=o=>({search:o}),W=(()=>{let t=class t{constructor(){this.api=l(A),this.route=l(D),this.places=n([]),this.loading=n(!1),this.filter=n(""),this.subtitle=h(()=>this.filter()?.length>0?"places.list.subtitle.filtered":"places.list.subtitle.not-filtered"),this.actions=[{type:"link",label:"places.list.actions.create.label",route:["create"]}],this.route.queryParamMap.pipe(F(),f(()=>this.loading.set(!0)),m(1500),d(a=>{let e=a.get("search")||"";return this.filter.set(e),this.api.search({name:e})})).subscribe({next:a=>{this.places.set(a.items),this.loading.set(!1)},error:()=>this.loading.set(!1)})}ngOnInit(){}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u({type:t,selectors:[["ng-component"]],standalone:!0,features:[b],decls:6,vars:13,consts:[[3,"title"],[3,"title","actions"],[3,"places","loading","filter"]],template:function(e,i){e&1&&(s(0,"oa-page-header",0),c(1,"translate"),g(2,"oa-page-content"),s(3,"oa-section-header",1),c(4,"translate"),s(5,"oa-place-card-list",2),y()),e&2&&(r("title",v(1,6,"places.list.title")),p(3),r("title",P(4,8,i.subtitle(),C(11,H,i.filter())))("actions",i.actions),p(2),r("places",i.places())("loading",i.loading())("filter",i.filter()))},dependencies:[S,M,w,k,B,T],encapsulation:2,changeDetection:0});let o=t;return o})();export{W as PlaceListPage};
