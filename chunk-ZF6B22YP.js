import{b as te}from"./chunk-6BT6C4Y3.js";import{a as H,b as L,d as Y,e as K,f as Q,g as W,h as X,j as Z,k as ee}from"./chunk-YLWAUSJG.js";import{a as q,j as w,k as C,o as ie}from"./chunk-DGVE3CBX.js";import{$ as T,B as M,Cb as c,Db as d,Ia as n,Pa as x,S as b,T as E,W as S,X as h,Yb as $,Zb as J,_a as F,aa as I,ab as s,bb as j,eb as A,fa as O,fb as G,gb as U,hb as r,ib as l,jb as g,kb as P,lb as u,mb as v,q as V,qa as N,sb as m,tb as f,ub as k,wb as z,xb as _,zb as D}from"./chunk-3BEEKYPC.js";var ne=(()=>{let e=class e{constructor(){this.http=N(q),this.baseUrl=`${ie.baseUrl}api/data/roles`}getAll(){return this.http.get(`${this.baseUrl}`).pipe(M(i=>V(()=>i.error)))}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ae=t=>({"bg-cyan-600":t}),se=t=>({"text-white":t});function me(t,e){if(t&1){let p=P();r(0,"li",16),u("click",function(){let a=T(p).$implicit,y=v(3);return I(y.selected.set(a))}),r(1,"div",17)(2,"div",18)(3,"p",19),m(4),l()()()()}if(t&2){let p=e.$implicit,i=v(3);s("ngClass",D(3,ae,p===i.selected())),n(3),s("ngClass",D(5,se,p===i.selected())),n(),f(p)}}function pe(t,e){if(t&1){let p=P();r(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9)(4,"h3",10),m(5),c(6,"translate"),l(),r(7,"div",11)(8,"ul",12),G(9,me,5,7,"li",20,A),l()()()()(),r(11,"div",13)(12,"button",14),u("click",function(){T(p);let o=v(2);return I(o.confirm.emit(o.selected()))}),m(13),c(14,"translate"),l(),r(15,"button",15),u("click",function(){T(p);let o=v(2);return I(o.cancel.emit())}),m(16),c(17,"translate"),l()()()}if(t&2){let p=v(2);j("width",70,"%"),s("@opacityTranslateY",void 0),n(5),f(d(6,7,"employees.form.role.title")),n(4),U(p.roles()),n(3),s("disabled",!p.selected()),n(),k(" ",d(14,9,"employees.form.role.confirm")," "),n(3),k(" ",d(17,11,"employees.form.role.cancel")," ")}}function ce(t,e){if(t&1&&(r(0,"div",1),g(1,"div",2),r(2,"div",3)(3,"div",4),F(4,pe,18,13,"div",5),l()()()),t&2){let p=v();s("@opacity",void 0),n(4),s("ngIf",p.open())}}var re=(()=>{let e=class e{constructor(){this.open=E(!1),this.confirm=new b,this.cancel=new b,this.api=N(ne),this.roles=x([]),this.selected=x("")}ngOnInit(){this.api.getAll().subscribe({next:i=>{this.roles.set(i.items)}})}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=h({type:e,selectors:[["oa-role-picker-dialog"]],inputs:{open:[S.SignalBased,"open"]},outputs:{confirm:"confirm",cancel:"cancel"},standalone:!0,features:[_],decls:1,vars:1,consts:[["class","relative z-10","aria-labelledby","modal-title","role","dialog","aria-modal","true",4,"ngIf"],["aria-labelledby","modal-title","role","dialog","aria-modal","true",1,"relative","z-10"],[1,"fixed","inset-0","bg-gray-500","bg-opacity-75","transition-opacity"],[1,"fixed","inset-0","z-10","overflow-y-auto"],[1,"flex","min-h-full","justify-center","p-4","text-center","items-center","sm:p-0"],["class","relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg",3,"width",4,"ngIf"],[1,"relative","transform","overflow-hidden","rounded-lg","bg-white","text-left","shadow-xl","transition-all","sm:my-8","sm:w-full","sm:max-w-lg"],[1,"bg-white","px-4","pt-5","pb-4","sm:p-6","sm:pb-4","w-full"],[1,"sm:flex","sm:items-stretch","w-full"],[1,"mt-3","text-center","sm:mt-0","sm:ml-4","sm:text-left","w-full"],["id","modal-title",1,"text-base","font-semibold","leading-6","text-gray-900"],[1,"mt-2","max-h-[50vh]","w-full","overflow-auto"],["role","list",1,"divide-y","divide-gray-100","w-full"],[1,"bg-gray-50","px-4","py-3","sm:flex","sm:flex-row-reverse","sm:px-6"],["type","button",1,"inline-flex","w-full","justify-center","rounded-md","bg-cyan-600","px-3","py-2","text-sm","font-semibold","text-white","shadow-sm","hover:bg-cyan-500","sm:ml-3","sm:w-auto",3,"disabled","click"],["type","button",1,"mt-3","inline-flex","w-full","justify-center","rounded-md","bg-white","px-3","py-2","text-sm","font-semibold","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","hover:bg-gray-50","sm:mt-0","sm:w-auto",3,"click"],[1,"group","flex","justify-between","gap-x-6","w-full","hover:bg-cyan-600","group-hover:text-white","rounded","p-2",3,"ngClass","click"],[1,"flex","min-w-0","gap-x-4"],[1,"min-w-0","flex-auto"],[1,"group-hover:text-white","text-sm","font-semibold","leading-6","text-gray-900",3,"ngClass"],["class","group flex justify-between gap-x-6 w-full hover:bg-cyan-600 group-hover:text-white rounded p-2",3,"ngClass"]],template:function(o,a){o&1&&F(0,ce,5,2,"div",0),o&2&&s("ngIf",a.open())},dependencies:[J,C,w,$]});let t=e;return t})();var le=(()=>{let e=class e{constructor(){this.value=x(""),this.disabled=x(!1),this.dialogOpen=x(!1),this.onChange=i=>{},this.onTouch=()=>{}}writeValue(i){this.value.set(i)}registerOnChange(i){this.onChange=i}registerOnTouched(i){this.onTouch=i}setDisabledState(i){this.disabled.set(i)}onPick(){this.dialogOpen.set(!0)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=h({type:e,selectors:[["oa-role-picker"]],standalone:!0,features:[z([{provide:H,useExisting:e,multi:!0}]),_],decls:8,vars:5,consts:[[1,"flex","gap-4"],[1,"flex","flex-grow","rounded-md","shadow-sm","ring-1","ring-inset","ring-gray-300","focus-within:ring-2","focus-within:ring-inset","focus-within:ring-cyan-600"],[1,"block","flex-1","border-0","bg-transparent","py-1.5","pl-4","text-gray-900","placeholder:text-gray-400","focus:ring-0","sm:text-sm","sm:leading-6"],[1,"rounded-md","bg-cyan-600","px-3","py-2","text-sm","font-semibold","text-white","shadow-sm","hover:bg-cyan-500","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-cyan-600","disabled:bg-cyan-200",3,"click"],[3,"open","confirm","cancel"]],template:function(o,a){o&1&&(r(0,"div",0)(1,"div",1)(2,"span",2),m(3),l()(),r(4,"button",3),u("click",function(){return a.onPick()}),m(5),c(6,"translate"),l(),r(7,"oa-role-picker-dialog",4),u("confirm",function(B){return a.dialogOpen.set(!1),a.onChange(B),a.value.set(B)})("cancel",function(){return a.dialogOpen.set(!1)}),l()()),o&2&&(n(3),f(a.value()),n(2),k(" ",d(6,3,"employees.form.role.pick")," "),n(2),s("open",a.dialogOpen()))},dependencies:[C,w,re]});let t=e;return t})();var Ge=(()=>{let e=class e{constructor(){this.form=E.required(),this.cancel=new b,this.submitted=new b}onCancel(){this.cancel.emit()}onSubmit(){this.submitted.emit()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=h({type:e,selectors:[["oa-employee-form"]],inputs:{form:[S.SignalBased,"form"]},outputs:{cancel:"cancel",submitted:"submitted"},standalone:!0,features:[_],decls:34,vars:20,consts:[[3,"formGroup"],[1,"space-y-12"],[1,"border-b","border-gray-900/10","pb-12"],[1,"mt-10","grid","grid-cols-1","gap-x-6","gap-y-8","sm:grid-cols-6"],[1,"sm:col-span-full"],["for","firstName",1,"block","text-sm","font-medium","leading-6","text-gray-900"],[1,"mt-2"],[1,"flex","rounded-md","shadow-sm","ring-1","ring-inset","ring-gray-300","focus-within:ring-2","focus-within:ring-inset","focus-within:ring-cyan-600"],["formControlName","firstName","type","text","name","firstName","id","firstName",1,"block","flex-1","border-0","bg-transparent","py-1.5","pl-4","text-gray-900","placeholder:text-gray-400","focus:ring-0","sm:text-sm","sm:leading-6"],[3,"control"],["for","lastName",1,"block","text-sm","font-medium","leading-6","text-gray-900"],["formControlName","lastName","type","text","name","lastName","id","lastName",1,"block","flex-1","border-0","bg-transparent","py-1.5","pl-4","text-gray-900","placeholder:text-gray-400","focus:ring-0","sm:text-sm","sm:leading-6"],["for","role",1,"block","text-sm","font-medium","leading-6","text-gray-900"],["formControlName","role"],[1,"mt-6","flex","items-center","justify-end","gap-x-6"],["type","button",1,"text-sm","font-semibold","leading-6","text-gray-900",3,"click"],["type","submit",1,"rounded-md","bg-cyan-600","px-3","py-2","text-sm","font-semibold","text-white","shadow-sm","hover:bg-cyan-500","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-cyan-600","disabled:bg-cyan-200",3,"disabled","click"]],template:function(o,a){o&1&&(r(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"label",5),m(6),c(7,"translate"),l(),r(8,"div",6)(9,"div",7),g(10,"input",8),l(),g(11,"oa-form-error-display",9),l()(),r(12,"div",4)(13,"label",10),m(14),c(15,"translate"),l(),r(16,"div",6)(17,"div",7),g(18,"input",11),l(),g(19,"oa-form-error-display",9),l()(),r(20,"div",4)(21,"label",12),m(22),c(23,"translate"),l(),r(24,"div",6),g(25,"oa-role-picker",13)(26,"oa-form-error-display",9),l()()()()(),r(27,"div",14)(28,"button",15),u("click",function(){return a.onCancel()}),m(29),c(30,"translate"),l(),r(31,"button",16),u("click",function(){return a.onSubmit()}),m(32),c(33,"translate"),l()()()),o&2&&(s("formGroup",a.form()),n(6),f(d(7,10,"employees.form.firstName.label")),n(5),s("control",a.form().controls.firstName),n(3),f(d(15,12,"employees.form.lastName.label")),n(5),s("control",a.form().controls.lastName),n(3),f(d(23,14,"employees.form.role.label")),n(4),s("control",a.form().controls.role),n(3),f(d(30,16,"places.form.actions.cancel.label")),n(2),s("disabled",!a.form().valid),n(),f(d(33,18,"places.form.actions.save.label")))},dependencies:[te,Z,Q,L,Y,K,ee,W,X,C,w,le]});let t=e;return t})();export{Ge as a};
